<?xml version='1.0' encoding='utf-8'?>
<unit xmlns="http://www.srcML.org/srcML/src" filename="H:\Research\IndStudyDrxyz\ExistingToolsDatasets\scrML\srcML\Year.java" language="Java" revision="1.0.0">
  <comment type="block">/* ===========================================================
 * JFreeChart : a free chart library for the Java(tm) platform
 * ===========================================================
 *
 * (C) Copyright 2000-2020, by Object Refinery Limited and Contributors.
 *
 * Project Info:  http://www.jfree.org/jfreechart/index.html
 *
 * This library is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation; either version 2.1 of the License, or
 * (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public
 * License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301,
 * USA.
 *
 * [Oracle and Java are registered trademarks of Oracle and/or its affiliates. 
 * Other names may be trademarks of their respective owners.]
 *
 * ---------
 * Year.java
 * ---------
 * (C) Copyright 2001-2020, by Object Refinery Limited.
 *
 * Original Author:  David Gilbert (for Object Refinery Limited);
 * Contributor(s):   -;
 *
 */</comment>
  <package>package <name>
      <name>org</name>
      <operator>.</operator>
      <name>jfree</name>
      <operator>.</operator>
      <name>data</name>
      <operator>.</operator>
      <name>time</name>
    </name>;</package>
  <import>import <name>
      <name>java</name>
      <operator>.</operator>
      <name>io</name>
      <operator>.</operator>
      <name>Serializable</name>
    </name>;</import>
  <import>import <name>
      <name>java</name>
      <operator>.</operator>
      <name>util</name>
      <operator>.</operator>
      <name>Calendar</name>
    </name>;</import>
  <import>import <name>
      <name>java</name>
      <operator>.</operator>
      <name>util</name>
      <operator>.</operator>
      <name>Date</name>
    </name>;</import>
  <import>import <name>
      <name>java</name>
      <operator>.</operator>
      <name>util</name>
      <operator>.</operator>
      <name>Locale</name>
    </name>;</import>
  <import>import <name>
      <name>java</name>
      <operator>.</operator>
      <name>util</name>
      <operator>.</operator>
      <name>TimeZone</name>
    </name>;</import>
  <comment format="javadoc" type="block">/**
 * Represents a year in the range -9999 to 9999.  This class is immutable,
 * which is a requirement for all {@link RegularTimePeriod} subclasses.
 */</comment>
  <class>
    <specifier>public</specifier> class <name>Year</name>
    <super_list>
      <extends>extends <super>
          <name>RegularTimePeriod</name>
        </super>
      </extends>
      <implements>implements <super>
          <name>Serializable</name>
        </super>
      </implements>
    </super_list>
    <block>{

    <comment format="javadoc" type="block">/**
     * The minimum year value.
     *
     * @since 1.0.11
     */</comment>
      <decl_stmt>
        <decl>
          <type>
            <specifier>public</specifier>
            <specifier>static</specifier>
            <specifier>final</specifier>
            <name>int</name>
          </type>
          <name>MINIMUM_YEAR</name>
          <init>= <expr>
              <operator>-</operator>
              <literal type="number">9999</literal>
            </expr>
          </init>
        </decl>;</decl_stmt>
      <comment format="javadoc" type="block">/**
     * The maximum year value.
     *
     * @since 1.0.11
     */</comment>
      <decl_stmt>
        <decl>
          <type>
            <specifier>public</specifier>
            <specifier>static</specifier>
            <specifier>final</specifier>
            <name>int</name>
          </type>
          <name>MAXIMUM_YEAR</name>
          <init>= <expr>
              <literal type="number">9999</literal>
            </expr>
          </init>
        </decl>;</decl_stmt>
      <comment format="javadoc" type="block">/** For serialization. */</comment>
      <decl_stmt>
        <decl>
          <type>
            <specifier>private</specifier>
            <specifier>static</specifier>
            <specifier>final</specifier>
            <name>long</name>
          </type>
          <name>serialVersionUID</name>
          <init>= <expr>
              <operator>-</operator>
              <literal type="number">7659990929736074836L</literal>
            </expr>
          </init>
        </decl>;</decl_stmt>
      <comment format="javadoc" type="block">/** The year. */</comment>
      <decl_stmt>
        <decl>
          <type>
            <specifier>private</specifier>
            <name>short</name>
          </type>
          <name>year</name>
        </decl>;</decl_stmt>
      <comment format="javadoc" type="block">/** The first millisecond. */</comment>
      <decl_stmt>
        <decl>
          <type>
            <specifier>private</specifier>
            <name>long</name>
          </type>
          <name>firstMillisecond</name>
        </decl>;</decl_stmt>
      <comment format="javadoc" type="block">/** The last millisecond. */</comment>
      <decl_stmt>
        <decl>
          <type>
            <specifier>private</specifier>
            <name>long</name>
          </type>
          <name>lastMillisecond</name>
        </decl>;</decl_stmt>
      <comment format="javadoc" type="block">/**
     * Creates a new {@code Year}, based on the current system date/time.
     * The time zone and locale are determined by the calendar
     * returned by {@link RegularTimePeriod#getCalendarInstance()}.
     */</comment>
      <constructor>
        <specifier>public</specifier>
        <name>Year</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <expr_stmt>
              <expr>
                <call>
                  <name>this</name>
                  <argument_list>(<argument>
                      <expr>
                        <operator>new</operator>
                        <call>
                          <name>Date</name>
                          <argument_list>()</argument_list>
                        </call>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
          </block_content>}</block>
      </constructor>
      <comment format="javadoc" type="block">/**
     * Creates a time period representing a single year.
     * The time zone and locale are determined by the calendar
     * returned by {@link RegularTimePeriod#getCalendarInstance()}.
     *
     * @param year  the year.
     */</comment>
      <constructor>
        <specifier>public</specifier>
        <name>Year</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>int</name>
              </type>
              <name>year</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <if_stmt>
              <if>if <condition>(<expr>
                    <operator>(</operator>
                    <name>year</name>
                    <operator>&lt;</operator>
                    <name>
                      <name>Year</name>
                      <operator>.</operator>
                      <name>MINIMUM_YEAR</name>
                    </name>
                    <operator>)</operator>
                    <operator>||</operator>
                    <operator>(</operator>
                    <name>year</name>
                    <operator>&gt;</operator>
                    <name>
                      <name>Year</name>
                      <operator>.</operator>
                      <name>MAXIMUM_YEAR</name>
                    </name>
                    <operator>)</operator>
                  </expr>)</condition>
                <block>{<block_content>
                    <throw>throw <expr>
                        <operator>new</operator>
                        <call>
                          <name>IllegalArgumentException</name>
                          <argument_list>(
                <argument>
                              <expr>
                                <literal type="string">"Year constructor: year ("</literal>
                                <operator>+</operator>
                                <name>year</name>
                                <operator>+</operator>
                                <literal type="string">") outside valid range."</literal>
                              </expr>
                            </argument>)</argument_list>
                        </call>
                      </expr>;</throw>
                  </block_content>}</block>
              </if>
            </if_stmt>
            <expr_stmt>
              <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>year</name>
                </name>
                <operator>=</operator>
                <operator>(</operator>
                <name>short</name>
                <operator>)</operator>
                <name>year</name>
              </expr>;</expr_stmt>
            <expr_stmt>
              <expr>
                <call>
                  <name>peg</name>
                  <argument_list>(<argument>
                      <expr>
                        <call>
                          <name>getCalendarInstance</name>
                          <argument_list>()</argument_list>
                        </call>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
          </block_content>}</block>
      </constructor>
      <comment format="javadoc" type="block">/**
     * Creates a new {@code Year}, based on a particular instant in time.
     * The time zone and locale are determined by the calendar
     * returned by {@link RegularTimePeriod#getCalendarInstance()}.
     *
     * @param time  the time ({@code null} not permitted).
     *
     * @see #Year(Date, TimeZone, Locale)
     */</comment>
      <constructor>
        <specifier>public</specifier>
        <name>Year</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>Date</name>
              </type>
              <name>time</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <expr_stmt>
              <expr>
                <call>
                  <name>this</name>
                  <argument_list>(<argument>
                      <expr>
                        <name>time</name>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <call>
                          <name>getCalendarInstance</name>
                          <argument_list>()</argument_list>
                        </call>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
          </block_content>}</block>
      </constructor>
      <comment format="javadoc" type="block">/**
     * Creates a new {@code Year} instance, for the specified time zone
     * and locale.
     *
     * @param time  the current time ({@code null} not permitted).
     * @param zone  the time zone.
     * @param locale  the locale.
     *
     * @since 1.0.12
     */</comment>
      <constructor>
        <specifier>public</specifier>
        <name>Year</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>Date</name>
              </type>
              <name>time</name>
            </decl>
          </parameter>, <parameter>
            <decl>
              <type>
                <name>TimeZone</name>
              </type>
              <name>zone</name>
            </decl>
          </parameter>, <parameter>
            <decl>
              <type>
                <name>Locale</name>
              </type>
              <name>locale</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <decl_stmt>
              <decl>
                <type>
                  <name>Calendar</name>
                </type>
                <name>calendar</name>
                <init>= <expr>
                    <call>
                      <name>
                        <name>Calendar</name>
                        <operator>.</operator>
                        <name>getInstance</name>
                      </name>
                      <argument_list>(<argument>
                          <expr>
                            <name>zone</name>
                          </expr>
                        </argument>, <argument>
                          <expr>
                            <name>locale</name>
                          </expr>
                        </argument>)</argument_list>
                    </call>
                  </expr>
                </init>
              </decl>;</decl_stmt>
            <expr_stmt>
              <expr>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>setTime</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>time</name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <expr_stmt>
              <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>year</name>
                </name>
                <operator>=</operator>
                <operator>(</operator>
                <name>short</name>
                <operator>)</operator>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>get</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>
                          <name>Calendar</name>
                          <operator>.</operator>
                          <name>YEAR</name>
                        </name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <expr_stmt>
              <expr>
                <call>
                  <name>peg</name>
                  <argument_list>(<argument>
                      <expr>
                        <name>calendar</name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
          </block_content>}</block>
      </constructor>
      <comment format="javadoc" type="block">/**
     * Constructs a new instance, based on a particular date/time.
     * The time zone and locale are determined by the {@code calendar}
     * parameter.
     *
     * @param time the date/time ({@code null} not permitted).
     * @param calendar the calendar to use for calculations ({@code null} not permitted).
     */</comment>
      <constructor>
        <specifier>public</specifier>
        <name>Year</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>Date</name>
              </type>
              <name>time</name>
            </decl>
          </parameter>, <parameter>
            <decl>
              <type>
                <name>Calendar</name>
              </type>
              <name>calendar</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <expr_stmt>
              <expr>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>setTime</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>time</name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <expr_stmt>
              <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>year</name>
                </name>
                <operator>=</operator>
                <operator>(</operator>
                <name>short</name>
                <operator>)</operator>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>get</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>
                          <name>Calendar</name>
                          <operator>.</operator>
                          <name>YEAR</name>
                        </name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <expr_stmt>
              <expr>
                <call>
                  <name>peg</name>
                  <argument_list>(<argument>
                      <expr>
                        <name>calendar</name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
          </block_content>}</block>
      </constructor>
      <comment format="javadoc" type="block">/**
     * Returns the year.
     *
     * @return The year.
     */</comment>
      <function>
        <type>
          <specifier>public</specifier>
          <name>int</name>
        </type>
        <name>getYear</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <return>return <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>year</name>
                </name>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns the first millisecond of the year.  This will be determined
     * relative to the time zone specified in the constructor, or in the
     * calendar instance passed in the most recent call to the
     * {@link #peg(Calendar)} method.
     *
     * @return The first millisecond of the year.
     *
     * @see #getLastMillisecond()
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>long</name>
        </type>
        <name>getFirstMillisecond</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <return>return <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>firstMillisecond</name>
                </name>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns the last millisecond of the year.  This will be
     * determined relative to the time zone specified in the constructor, or
     * in the calendar instance passed in the most recent call to the
     * {@link #peg(Calendar)} method.
     *
     * @return The last millisecond of the year.
     *
     * @see #getFirstMillisecond()
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>long</name>
        </type>
        <name>getLastMillisecond</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <return>return <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>lastMillisecond</name>
                </name>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Recalculates the start date/time and end date/time for this time period
     * relative to the supplied calendar (which incorporates a time zone).
     *
     * @param calendar  the calendar ({@code null} not permitted).
     *
     * @since 1.0.3
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>void</name>
        </type>
        <name>peg</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>Calendar</name>
              </type>
              <name>calendar</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <expr_stmt>
              <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>firstMillisecond</name>
                </name>
                <operator>=</operator>
                <call>
                  <name>getFirstMillisecond</name>
                  <argument_list>(<argument>
                      <expr>
                        <name>calendar</name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <expr_stmt>
              <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>lastMillisecond</name>
                </name>
                <operator>=</operator>
                <call>
                  <name>getLastMillisecond</name>
                  <argument_list>(<argument>
                      <expr>
                        <name>calendar</name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns the year preceding this one.
     * No matter what time zone and locale this instance was created with,
     * the returned instance will use the default calendar for time
     * calculations, obtained with {@link RegularTimePeriod#getCalendarInstance()}.
     *
     * @return The year preceding this one (or {@code null} if the
     *         current year is -9999).
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>RegularTimePeriod</name>
        </type>
        <name>previous</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <if_stmt>
              <if>if <condition>(<expr>
                    <name>
                      <name>this</name>
                      <operator>.</operator>
                      <name>year</name>
                    </name>
                    <operator>&gt;</operator>
                    <name>
                      <name>Year</name>
                      <operator>.</operator>
                      <name>MINIMUM_YEAR</name>
                    </name>
                  </expr>)</condition>
                <block>{<block_content>
                    <return>return <expr>
                        <operator>new</operator>
                        <call>
                          <name>Year</name>
                          <argument_list>(<argument>
                              <expr>
                                <name>
                                  <name>this</name>
                                  <operator>.</operator>
                                  <name>year</name>
                                </name>
                                <operator>-</operator>
                                <literal type="number">1</literal>
                              </expr>
                            </argument>)</argument_list>
                        </call>
                      </expr>;</return>
                  </block_content>}</block>
              </if>
              <else>else <block>{<block_content>
                    <return>return <expr>
                        <literal type="null">null</literal>
                      </expr>;</return>
                  </block_content>}</block>
              </else>
            </if_stmt>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns the year following this one.
     * No matter what time zone and locale this instance was created with,
     * the returned instance will use the default calendar for time
     * calculations, obtained with {@link RegularTimePeriod#getCalendarInstance()}.
     *
     * @return The year following this one (or {@code null} if the current
     *         year is 9999).
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>RegularTimePeriod</name>
        </type>
        <name>next</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <if_stmt>
              <if>if <condition>(<expr>
                    <name>
                      <name>this</name>
                      <operator>.</operator>
                      <name>year</name>
                    </name>
                    <operator>&lt;</operator>
                    <name>
                      <name>Year</name>
                      <operator>.</operator>
                      <name>MAXIMUM_YEAR</name>
                    </name>
                  </expr>)</condition>
                <block>{<block_content>
                    <return>return <expr>
                        <operator>new</operator>
                        <call>
                          <name>Year</name>
                          <argument_list>(<argument>
                              <expr>
                                <name>
                                  <name>this</name>
                                  <operator>.</operator>
                                  <name>year</name>
                                </name>
                                <operator>+</operator>
                                <literal type="number">1</literal>
                              </expr>
                            </argument>)</argument_list>
                        </call>
                      </expr>;</return>
                  </block_content>}</block>
              </if>
              <else>else <block>{<block_content>
                    <return>return <expr>
                        <literal type="null">null</literal>
                      </expr>;</return>
                  </block_content>}</block>
              </else>
            </if_stmt>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns a serial index number for the year.
     * &lt;P&gt;
     * The implementation simply returns the year number (e.g. 2002).
     *
     * @return The serial index number.
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>long</name>
        </type>
        <name>getSerialIndex</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <return>return <expr>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>year</name>
                </name>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns the first millisecond of the year, evaluated using the supplied
     * calendar (which determines the time zone).
     *
     * @param calendar  the calendar ({@code null} not permitted).
     *
     * @return The first millisecond of the year.
     *
     * @throws NullPointerException if {@code calendar} is
     *     {@code null}.
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>long</name>
        </type>
        <name>getFirstMillisecond</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>Calendar</name>
              </type>
              <name>calendar</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <expr_stmt>
              <expr>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>set</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>
                          <name>this</name>
                          <operator>.</operator>
                          <name>year</name>
                        </name>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <name>
                          <name>Calendar</name>
                          <operator>.</operator>
                          <name>JANUARY</name>
                        </name>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">1</literal>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">0</literal>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">0</literal>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">0</literal>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <expr_stmt>
              <expr>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>set</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>
                          <name>Calendar</name>
                          <operator>.</operator>
                          <name>MILLISECOND</name>
                        </name>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">0</literal>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <return>return <expr>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>getTimeInMillis</name>
                  </name>
                  <argument_list>()</argument_list>
                </call>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns the last millisecond of the year, evaluated using the supplied
     * calendar (which determines the time zone).
     *
     * @param calendar  the calendar ({@code null} not permitted).
     *
     * @return The last millisecond of the year.
     *
     * @throws NullPointerException if {@code calendar} is
     *     {@code null}.
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>long</name>
        </type>
        <name>getLastMillisecond</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>Calendar</name>
              </type>
              <name>calendar</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <expr_stmt>
              <expr>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>set</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>
                          <name>this</name>
                          <operator>.</operator>
                          <name>year</name>
                        </name>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <name>
                          <name>Calendar</name>
                          <operator>.</operator>
                          <name>DECEMBER</name>
                        </name>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">31</literal>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">23</literal>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">59</literal>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">59</literal>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <expr_stmt>
              <expr>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>set</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>
                          <name>Calendar</name>
                          <operator>.</operator>
                          <name>MILLISECOND</name>
                        </name>
                      </expr>
                    </argument>, <argument>
                      <expr>
                        <literal type="number">999</literal>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</expr_stmt>
            <return>return <expr>
                <call>
                  <name>
                    <name>calendar</name>
                    <operator>.</operator>
                    <name>getTimeInMillis</name>
                  </name>
                  <argument_list>()</argument_list>
                </call>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Tests the equality of this {@code Year} object to an arbitrary
     * object.  Returns {@code true} if the target is a {@code Year}
     * instance representing the same year as this object.  In all other cases,
     * returns {@code false}.
     *
     * @param obj  the object ({@code null} permitted).
     *
     * @return {@code true} if the year of this and the object are the
     *         same.
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>boolean</name>
        </type>
        <name>equals</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>Object</name>
              </type>
              <name>obj</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <if_stmt>
              <if>if <condition>(<expr>
                    <name>obj</name>
                    <operator>==</operator>
                    <name>this</name>
                  </expr>)</condition>
                <block>{<block_content>
                    <return>return <expr>
                        <literal type="boolean">true</literal>
                      </expr>;</return>
                  </block_content>}</block>
              </if>
            </if_stmt>
            <if_stmt>
              <if>if <condition>(<expr>
                    <operator>!</operator>
                    <operator>(</operator>
                    <name>obj</name>
                    <operator>instanceof</operator>
                    <name>Year</name>
                    <operator>)</operator>
                  </expr>)</condition>
                <block>{<block_content>
                    <return>return <expr>
                        <literal type="boolean">false</literal>
                      </expr>;</return>
                  </block_content>}</block>
              </if>
            </if_stmt>
            <decl_stmt>
              <decl>
                <type>
                  <name>Year</name>
                </type>
                <name>that</name>
                <init>= <expr>
                    <operator>(</operator>
                    <name>Year</name>
                    <operator>)</operator>
                    <name>obj</name>
                  </expr>
                </init>
              </decl>;</decl_stmt>
            <return>return <expr>
                <operator>(</operator>
                <name>
                  <name>this</name>
                  <operator>.</operator>
                  <name>year</name>
                </name>
                <operator>==</operator>
                <name>
                  <name>that</name>
                  <operator>.</operator>
                  <name>year</name>
                </name>
                <operator>)</operator>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns a hash code for this object instance.  The approach described by
     * Joshua Bloch in "Effective Java" has been used here:
     * &lt;p&gt;
     * {@code http://developer.java.sun.com/developer/Books/effectivejava
     *     /Chapter3.pdf}
     *
     * @return A hash code.
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>int</name>
        </type>
        <name>hashCode</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <decl_stmt>
              <decl>
                <type>
                  <name>int</name>
                </type>
                <name>result</name>
                <init>= <expr>
                    <literal type="number">17</literal>
                  </expr>
                </init>
              </decl>;</decl_stmt>
            <decl_stmt>
              <decl>
                <type>
                  <name>int</name>
                </type>
                <name>c</name>
                <init>= <expr>
                    <name>
                      <name>this</name>
                      <operator>.</operator>
                      <name>year</name>
                    </name>
                  </expr>
                </init>
              </decl>;</decl_stmt>
            <expr_stmt>
              <expr>
                <name>result</name>
                <operator>=</operator>
                <literal type="number">37</literal>
                <operator>*</operator>
                <name>result</name>
                <operator>+</operator>
                <name>c</name>
              </expr>;</expr_stmt>
            <return>return <expr>
                <name>result</name>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns an integer indicating the order of this {@code Year} object
     * relative to the specified object:
     *
     * negative == before, zero == same, positive == after.
     *
     * @param o1  the object to compare.
     *
     * @return negative == before, zero == same, positive == after.
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>int</name>
        </type>
        <name>compareTo</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>Object</name>
              </type>
              <name>o1</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <decl_stmt>
              <decl>
                <type>
                  <name>int</name>
                </type>
                <name>result</name>
              </decl>;</decl_stmt>
            <comment type="line">// CASE 1 : Comparing to another Year object</comment>
            <comment type="line">// -----------------------------------------</comment>
            <if_stmt>
              <if>if <condition>(<expr>
                    <name>o1</name>
                    <operator>instanceof</operator>
                    <name>Year</name>
                  </expr>)</condition>
                <block>{<block_content>
                    <decl_stmt>
                      <decl>
                        <type>
                          <name>Year</name>
                        </type>
                        <name>y</name>
                        <init>= <expr>
                            <operator>(</operator>
                            <name>Year</name>
                            <operator>)</operator>
                            <name>o1</name>
                          </expr>
                        </init>
                      </decl>;</decl_stmt>
                    <expr_stmt>
                      <expr>
                        <name>result</name>
                        <operator>=</operator>
                        <name>
                          <name>this</name>
                          <operator>.</operator>
                          <name>year</name>
                        </name>
                        <operator>-</operator>
                        <call>
                          <name>
                            <name>y</name>
                            <operator>.</operator>
                            <name>getYear</name>
                          </name>
                          <argument_list>()</argument_list>
                        </call>
                      </expr>;</expr_stmt>
                  </block_content>}</block>
              </if>
              <comment type="line">// CASE 2 : Comparing to another TimePeriod object</comment>
              <comment type="line">// -----------------------------------------------</comment>
              <if type="elseif">else if <condition>(<expr>
                    <name>o1</name>
                    <operator>instanceof</operator>
                    <name>RegularTimePeriod</name>
                  </expr>)</condition>
                <block>{<block_content>
                    <comment type="line">// more difficult case - evaluate later...</comment>
                    <expr_stmt>
                      <expr>
                        <name>result</name>
                        <operator>=</operator>
                        <literal type="number">0</literal>
                      </expr>;</expr_stmt>
                  </block_content>}</block>
              </if>
              <comment type="line">// CASE 3 : Comparing to a non-TimePeriod object</comment>
              <comment type="line">// ---------------------------------------------</comment>
              <else>else <block>{<block_content>
                    <comment type="line">// consider time periods to be ordered after general objects</comment>
                    <expr_stmt>
                      <expr>
                        <name>result</name>
                        <operator>=</operator>
                        <literal type="number">1</literal>
                      </expr>;</expr_stmt>
                  </block_content>}</block>
              </else>
            </if_stmt>
            <return>return <expr>
                <name>result</name>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Returns a string representing the year..
     *
     * @return A string representing the year.
     */</comment>
      <function>
        <annotation>@<name>Override</name>
        </annotation>
        <type>
          <specifier>public</specifier>
          <name>String</name>
        </type>
        <name>toString</name>
        <parameter_list>()</parameter_list>
        <block>{<block_content>
            <return>return <expr>
                <call>
                  <name>
                    <name>Integer</name>
                    <operator>.</operator>
                    <name>toString</name>
                  </name>
                  <argument_list>(<argument>
                      <expr>
                        <name>
                          <name>this</name>
                          <operator>.</operator>
                          <name>year</name>
                        </name>
                      </expr>
                    </argument>)</argument_list>
                </call>
              </expr>;</return>
          </block_content>}</block>
      </function>
      <comment format="javadoc" type="block">/**
     * Parses the string argument as a year.
     * &lt;P&gt;
     * The string format is YYYY.
     *
     * @param s  a string representing the year.
     *
     * @return {@code null} if the string is not parseable, the year
     *         otherwise.
     */</comment>
      <function>
        <type>
          <specifier>public</specifier>
          <specifier>static</specifier>
          <name>Year</name>
        </type>
        <name>parseYear</name>
        <parameter_list>(<parameter>
            <decl>
              <type>
                <name>String</name>
              </type>
              <name>s</name>
            </decl>
          </parameter>)</parameter_list>
        <block>{<block_content>
            <comment type="line">// parse the string...</comment>
            <decl_stmt>
              <decl>
                <type>
                  <name>int</name>
                </type>
                <name>y</name>
              </decl>;</decl_stmt>
            <try>try <block>{<block_content>
                  <expr_stmt>
                    <expr>
                      <name>y</name>
                      <operator>=</operator>
                      <call>
                        <name>
                          <name>Integer</name>
                          <operator>.</operator>
                          <name>parseInt</name>
                        </name>
                        <argument_list>(<argument>
                            <expr>
                              <call>
                                <name>
                                  <name>s</name>
                                  <operator>.</operator>
                                  <name>trim</name>
                                </name>
                                <argument_list>()</argument_list>
                              </call>
                            </expr>
                          </argument>)</argument_list>
                      </call>
                    </expr>;</expr_stmt>
                </block_content>}</block>
              <catch>catch <parameter_list>(<parameter>
                    <decl>
                      <type>
                        <name>NumberFormatException</name>
                      </type>
                      <name>e</name>
                    </decl>
                  </parameter>)</parameter_list>
                <block>{<block_content>
                    <throw>throw <expr>
                        <operator>new</operator>
                        <call>
                          <name>TimePeriodFormatException</name>
                          <argument_list>(<argument>
                              <expr>
                                <literal type="string">"Cannot parse string."</literal>
                              </expr>
                            </argument>)</argument_list>
                        </call>
                      </expr>;</throw>
                  </block_content>}</block>
              </catch>
            </try>
            <comment type="line">// create the year...</comment>
            <try>try <block>{<block_content>
                  <return>return <expr>
                      <operator>new</operator>
                      <call>
                        <name>Year</name>
                        <argument_list>(<argument>
                            <expr>
                              <name>y</name>
                            </expr>
                          </argument>)</argument_list>
                      </call>
                    </expr>;</return>
                </block_content>}</block>
              <catch>catch <parameter_list>(<parameter>
                    <decl>
                      <type>
                        <name>IllegalArgumentException</name>
                      </type>
                      <name>e</name>
                    </decl>
                  </parameter>)</parameter_list>
                <block>{<block_content>
                    <throw>throw <expr>
                        <operator>new</operator>
                        <call>
                          <name>TimePeriodFormatException</name>
                          <argument_list>(<argument>
                              <expr>
                                <literal type="string">"Year outside valid range."</literal>
                              </expr>
                            </argument>)</argument_list>
                        </call>
                      </expr>;</throw>
                  </block_content>}</block>
              </catch>
            </try>
          </block_content>}</block>
      </function>

}</block>
  </class>
</unit>
